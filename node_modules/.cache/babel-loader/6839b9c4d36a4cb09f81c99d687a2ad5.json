{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/Users/user/new-frontend/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/user/new-frontend/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/user/new-frontend/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import axios from\"axios\";import\"./PrivateScreen.css\";var PrivateScreen=function PrivateScreen(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),privateData=_useState4[0],setPrivateData=_useState4[1];useEffect(function(){var fetchPrivateDate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(localStorage.getItem(\"authToken\"))}};_context.prev=1;_context.next=4;return axios.get(\"/api/private\",config);case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPrivateData(data.data);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);localStorage.removeItem(\"authToken\");setError(\"You are not authorized please login\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function fetchPrivateDate(){return _ref.apply(this,arguments);};}();fetchPrivateDate();},[]);return error?/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:privateData});};export default PrivateScreen;","map":{"version":3,"sources":["C:/Users/user/new-frontend/online-store/src/components/screens/PrivateScreen.js"],"names":["useState","useEffect","axios","PrivateScreen","error","setError","privateData","setPrivateData","fetchPrivateDate","config","headers","Authorization","localStorage","getItem","get","data","removeItem"],"mappings":"kgBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,qBAAP,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,eACAH,QAAQ,CAAC,EAAD,CADR,wCACnBI,KADmB,eACZC,QADY,8BAEYL,QAAQ,CAAC,EAAD,CAFpB,yCAEnBM,WAFmB,eAENC,cAFM,eAI1BN,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,gBAAgB,0FAAG,oKACjBC,MADiB,CACR,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAZ,CAFN,CADI,CADQ,uCASEX,CAAAA,KAAK,CAACY,GAAN,CAAU,cAAV,CAA0BL,MAA1B,CATF,uCASbM,IATa,kBASbA,IATa,CAUrBR,cAAc,CAACQ,IAAI,CAACA,IAAN,CAAd,CAVqB,+EAYrBH,YAAY,CAACI,UAAb,CAAwB,WAAxB,EACAX,QAAQ,CAAC,qCAAD,CAAR,CAbqB,oEAAH,kBAAhBG,CAAAA,gBAAgB,0CAAtB,CAiBAA,gBAAgB,GACjB,CAnBQ,CAmBN,EAnBM,CAAT,CAoBA,MAAOJ,CAAAA,KAAK,cACV,aAAM,SAAS,CAAC,eAAhB,UAAiCA,KAAjC,EADU,cAGV,qBAAME,WAAN,EAHF,CAKD,CA7BD,CA+BA,cAAeH,CAAAA,aAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PrivateScreen.css\";\r\n\r\nconst PrivateScreen = () => {\r\n  const [error, setError] = useState(\"\");\r\n  const [privateData, setPrivateData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPrivateDate = async () => {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\r\n        },\r\n      };\r\n\r\n      try {\r\n        const { data } = await axios.get(\"/api/private\", config);\r\n        setPrivateData(data.data);\r\n      } catch (error) {\r\n        localStorage.removeItem(\"authToken\");\r\n        setError(\"You are not authorized please login\");\r\n      }\r\n    };\r\n\r\n    fetchPrivateDate();\r\n  }, []);\r\n  return error ? (\r\n    <span className=\"error-message\">{error}</span>\r\n  ) : (\r\n    <div>{privateData}</div>\r\n  );\r\n};\r\n\r\nexport default PrivateScreen;"]},"metadata":{},"sourceType":"module"}